@model frontendnet.Models.AuthUser
@{
    ViewData["Title"] = "Perfil de usuario";
    ViewData["SubTitle"] = "Perfil";
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb small">
        <li class="breadcrumb-item active" aria-current="page">
            @ViewData["SubTitle"]
        </li>
    </ol>
</nav>

<h2 class="text-center mb-3">
    @ViewData["Title"]
</h2>

<div class="card mt-3">
    <div class="card-body">
        <!-- Email Display -->
        <div class="mb-3 ps-3">
            <label asp-for="Email" class="form-label form-text"></label>
            <div class="form-text text-body">@Model.Email</div>
        </div>

        <!-- Name Display -->
        <div class="mb-3 ps-3">
            <label asp-for="Nombre" class="form-label form-text"></label>
            <div class="form-text text-body">@Model.Nombre</div>
        </div>

        <!-- Role Display -->
        <div class="mb-3 ps-3">
            <label asp-for="Rol" class="form-label form-text"></label>
            <div class="form-text text-body">@Model.Rol</div>
        </div>

        <!-- Masked JWT Display -->
        <div class="mb-3 ps-3">
            <label asp-for="Jwt" class="form-label form-text"></label>
            <div class="form-text text-body">
                @Model.Jwt.Length > 6 ? @Model.Jwt.Substring(0, 6) + "..." : @Model.Jwt
            </div>
        </div>

        <!-- Time Remaining Display with condition -->
        @if (ViewBag.timeRemaining != null) {
            <div class="mb-3 ps-3">
                <label class="form-label form-text">Tiempo restante</label>
                <div class="form-text text-body">@ViewBag.timeRemaining</div>
            </div>
        } else {
            <div class="mb-3 ps-3">
                <label class="form-label form-text">Tiempo restante</label>
                <div class="form-text text-body">No disponible</div>
            </div>
        }

        <!-- Optional Logout Button -->
        <div class="mt-3 text-center">
            <a href="@Url.Action("Logout", "Auth")" class="btn btn-danger btn-sm">Cerrar sesión</a>
        </div>
    </div>
</div>
